<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header card-header-info" id="banner">
                        <h4 class="card-title">Gestión de conceptos</h4>
                    </div>
                    <div class="card-body">
                        <mat-accordion>
                            <mat-expansion-panel hideToggle> </mat-expansion-panel>
                            <mat-expansion-panel
                              (opened)="panelOpenState = true"
                              (closed)="panelOpenState = false"
                            >
                              <mat-expansion-panel-header>
                                <mat-panel-title>
                                  <h6 class="text-info">Registro de conceptos</h6>
                                </mat-panel-title>
                              </mat-expansion-panel-header>
                              <h5><strong>Buscar concepto por codigo</strong></h5>
                              <div class="row">
                                <div class="col-3">
                                  <input
                                    class="formdata text-center form-control align-baseline mt-2"
                                    placeholder="Codigo concepto"
                                    type="text"
                                    [(ngModel)]="consulta_concepto"
                                  />
                                </div>
                                
                                <button
                                  class="btn btn-info text-center col-3"
                                  id="button-consultar"
                                  (click)="traerConcepto()"
                                >
                                  Consultar
                                </button>
                                
                                
                              </div>
              
                              <hr />
                              <!--formulario del tercero-->
                              <form
                                #formularioConceptos="ngForm"
                                (ngSubmit)="registrarConcepto()"
                                [noValidate]="false"
                              >
                                <div class="row">
                                  <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Codigo del concepto"
                                        type="number"
                                        name="codigo_concepto"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <!-- <div class="col-7">
                                    <div class="row">                                      
                                      <div class="col-6">
                                        <mat-form-field class="example-full-width">
                                          <input
                                            matInput
                                            placeholder="Apellidos"
                                            type="text"
                                            id="Apellidos"
                                            name="apellidos"
                                            ngModel
                                            required
                                          />
                                        </mat-form-field>
                                      </div>
                                    </div>
                                  </div> -->
                                  <div class="col-5">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Nombre de concepto"
                                        type="text"
                                        name="nombre_concepto"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-3">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Tipo de operación"
                                        (selectionChange)="validartipopersona($event.value)"
                                        name="tipo_documento"
                                        ngModel
                                        required
                                      >
                                        <mat-option value="Débito"> Débito </mat-option>
                                        <mat-option value="Crédito">Crédito</mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div>
              
                                <!-- <div class="row">
                                  
                                </div> -->
                                 <div class="row">
                                  <div class="col-3">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Cuenta contable"
                                        type="number"
                                        name="cuenta_contable"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Tipo de concepto"
                                        name="tipo_concepto"
                                        (selectionChange)="validarTipoConcepto()"
                                        ngModel
                                        required
                                      >
                                        <mat-option
                                          [value]="p.id_tipo_concepto"
                                          *ngFor="let p of tipo_conceptos"
                                        >
                                          {{ p.tipo_concepto }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-3" *ngIf="tipo">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Valor porcentaje"
                                        type="text"
                                        name="valor_porcentaje"
                                        [(ngModel)]="consultaPorcentaje"
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-2 d-flex align-items-center d-flex justify-content-center">
                                  <mat-checkbox class="example-margin" [(ngModel)]="incremento" name="incremento">Incremento</mat-checkbox>
                                  </div>
                                 </div>
                                  <!-- <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Sub-procesos"
                                        id="subProcesos"
                                        name="subProcesos"
                                        ngModel
                                        required
                                      >
                                        <mat-option
                                          [value]="m.id_subproceso"
                                          *ngFor="let m of subProcesosFilter"
                                        >
                                          {{ m.subproceso }}
                                        </mat-option>
                                        <mat-option  *ngIf="subProcesosFilter.length < 1" disabled>
                                          No hay sitio disponibles
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div> -->
                                  <!-- <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Cargo"
                                        id="cargos"
                                        name="cargos"
                                        ngModel
                                        required
                                      >
                                        <mat-option
                                          [value]="m.id_cargo"
                                          *ngFor="let m of Cargos"
                                        >
                                          {{ m.cargo }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div> 
              
                                <div class="row">
                                  <div class="col-3">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Sexo"
                                        id="sexo"
                                        name="sexo"
                                        ngModel
                                        required
                                      >
                                        <mat-option value="Masculino">
                                          Masculino
                                        </mat-option>
                                        <mat-option value="Femenino">
                                          Femenino
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div> -->
                                  <!-- <div class="col-3">
                                    <mat-form-field
                                      class="example-full-width"
                                    >
                                      <mat-label>Fecha de macimiento</mat-label>
                                        <input matInput [matDatepicker]="pickerInicio" name="fecha_nacimiento" ngModel required> -->
                                        <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
                                        <!-- <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
                                        <mat-datepicker #pickerInicio></mat-datepicker>
                                    </mat-form-field>
                                  </div> -->
                                  <!-- <div class="col-9">
                                    <div class="row">
                                      <div class="col-6" *ngIf="password == true">
                                        <mat-form-field class="example-full-width">
                                          <input
                                            matInput
                                            placeholder="Contraseña"
                                            type="password"
                                            id="contraseña"
                                            name="contraseña"
                                            ngModel
                                            required
                                          />
                                        </mat-form-field>
                                      </div>  
                                    </div>                                 
                                  </div>
                                </div> -->
                                <button
                                  mat-raised-button
                                  type="submit"
                                  class="btn btn-info pull-right"
                                  id="button-guardar"
                                >
                                  Guardar
                                </button>
                                <button
                                  mat-raised-button
                                  type="reset"
                                  class="btn btn-danger pull-right"
                                  id="button-limpiar"
                                  (click)="limpiarFormulario()"
                                >
                                  Limpiar
                                </button>
                              </form>
                            </mat-expansion-panel>
                          </mat-accordion>
                          <hr>
                          <mat-accordion>
                            <mat-expansion-panel hideToggle> </mat-expansion-panel>
                            <mat-expansion-panel
                              (opened)="panelOpenState = true"
                              (closed)="panelOpenState = false"
                            >
                              <mat-expansion-panel-header>
                                <mat-panel-title>
                                  <h6 class="text-info">Asociación de conceptos</h6>
                                </mat-panel-title>
                              </mat-expansion-panel-header>
                              <h5><strong>Asociar conceptos que dependan de otro concepto</strong></h5>
                              <div class="row">
                                <div class="col">
                                  <input
                                    class="formdata text-center form-control align-baseline mt-2"
                                    placeholder="Ingresar concepto"
                                    type="text"
                                    [(ngModel)]="consulta_concepto"
                                  />
                                </div>
                                
                                <!-- <button
                                  class="btn btn-info text-center col-3"
                                  id="button-consultar"
                                  (click)="traerConcepto()"
                                >
                                  Consultar
                                </button> -->
                              </div>
              
                              <hr />
                              <!--Registro asociacion-->
                              <!-- <form
                                #formularioConceptos="ngForm"
                                (ngSubmit)="registrarConcepto()"
                                [noValidate]="false"
                              > -->
                                <!-- <div class="row">
                                  <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Codigo del concepto"
                                        type="number"
                                        name="codigo_concepto"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-5">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Nombre de concepto"
                                        type="text"
                                        name="nombre_concepto"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-3">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Tipo de operación"
                                        (selectionChange)="validartipopersona($event.value)"
                                        name="tipo_documento"
                                        ngModel
                                        required
                                      >
                                        <mat-option value="Débito"> Débito </mat-option>
                                        <mat-option value="Crédito">Crédito</mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                </div>
                                 <div class="row">
                                  <div class="col-3">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Cuenta contable"
                                        type="number"
                                        name="cuenta_contable"
                                        ngModel
                                        required
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-4">
                                    <mat-form-field class="example-full-width">
                                      <mat-select
                                        placeholder="Tipo de concepto"
                                        name="tipo_concepto"
                                        (selectionChange)="validarTipoConcepto()"
                                        ngModel
                                        required
                                      >
                                        <mat-option
                                          [value]="p.id_tipo_concepto"
                                          *ngFor="let p of tipo_conceptos"
                                        >
                                          {{ p.tipo_concepto }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-3" *ngIf="tipo">
                                    <mat-form-field class="example-full-width">
                                      <input
                                        matInput
                                        placeholder="Valor porcentaje"
                                        type="text"
                                        name="valor_porcentaje"
                                        [(ngModel)]="consultaPorcentaje"
                                      />
                                    </mat-form-field>
                                  </div>
                                  <div class="col-2 d-flex align-items-center d-flex justify-content-center">
                                  <mat-checkbox class="example-margin" [(ngModel)]="incremento" name="incremento">Incremento</mat-checkbox>
                                  </div>
                                 </div> -->
                                <button
                                  mat-raised-button
                                  type="submit"
                                  class="btn btn-info pull-right"
                                  id="button-guardar"
                                >
                                  Guardar
                                </button>
                                <button
                                  mat-raised-button
                                  type="reset"
                                  class="btn btn-danger pull-right"
                                  id="button-limpiar"
                                  (click)="limpiarFormulario()"
                                >
                                  Limpiar
                                </button>
                              <!-- </form> -->
                            </mat-expansion-panel>
                          </mat-accordion>
                          <hr>
            <mat-accordion>
              <mat-expansion-panel hideToggle> </mat-expansion-panel>
              <mat-expansion-panel
                (opened)="panelOpenState = true"
                (closed)="panelOpenState = false"
              >
                <mat-expansion-panel-header (click)="tablaConceptos()">
                  <mat-panel-title>
                    <h6 class="text-info">Gestión de contratos</h6>
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <hr>
                <mat-form-field appearance="standard">
                  <mat-label>Buscar</mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="Buscar" #input>
                </mat-form-field>
                
                <table mat-table [dataSource]="dataSourceConceptos" class="mat-elevation-z8 tabla-usuarios">
                
                  <ng-container matColumnDef="codigo_concepto">
                    <th mat-header-cell *matHeaderCellDef> Codgio </th>
                    <td mat-cell *matCellDef="let element"> {{element.codigo}} </td>
                  </ng-container>

                  <ng-container matColumnDef="nombre_concepto">
                    <th mat-header-cell *matHeaderCellDef> Nombre concepto </th>
                    <td mat-cell *matCellDef="let element"> {{element.nombre_concepto}} </td>
                  </ng-container>
                
                  <!-- <ng-container matColumnDef="correo_usuario">
                    <th mat-header-cell *matHeaderCellDef> Correo </th>
                    <td mat-cell *matCellDef="let element"> {{element.correo_usuario}} </td>
                  </ng-container> -->
                
                  <!-- <ng-container matColumnDef="Fin_Contrato">
                    <th mat-header-cell *matHeaderCellDef> Fecha Fin Contrarto </th>
                    <td mat-cell *matCellDef="let element"> {{element.fecha_fin}} </td>
                  </ng-container> -->

                  <!-- <ng-container matColumnDef="Acciones">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let element">
                      <button
                        *ngIf="element.estado == 0"
                        class="btn btn-info inhabilitar"
                        (click)="cambiarEstadoUsuario(element, 1)"
                        >Inhabilitar
                      </button>
                      <button
                        class="btn btn-info Habilitar"
                        (click)="cambiarEstadoUsuario(element, 0)"
                        *ngIf="element.estado == 1"
                        >Habilitar
                      </button>
                    </td>
                  </ng-container> -->
                
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                
                  <!-- Row shown when there is no matching data. -->
                  <!-- <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="6">Cargando...</td>
                  </tr> -->

                  <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="6">No hay información</td>
                  </tr>

                </table>
                <mat-paginator 
                    [hidden]="dataSourceConceptos.data.length < 1"
                    class="mat-elevation-z8"
                    #paginatorConceptos
                    [pageSizeOptions]="[20]"
                    showFirstLastButtons
                  >
                </mat-paginator>
                <hr>
              </mat-expansion-panel>
            </mat-accordion>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>